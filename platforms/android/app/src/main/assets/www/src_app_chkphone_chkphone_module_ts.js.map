{"version":3,"sources":["./src/app/chkphone/chkphone-routing.module.ts","./src/app/chkphone/chkphone.module.ts","./src/app/chkphone/chkphone.page.ts","./src/app/chkphone/chkphone.page.scss","./src/app/chkphone/chkphone.page.html"],"names":[],"mappings":"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","file":"src_app_chkphone_chkphone_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChkphonePage } from './chkphone.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChkphonePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChkphonePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChkphonePageRoutingModule } from './chkphone-routing.module';\n\nimport { ChkphonePage } from './chkphone.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    ChkphonePageRoutingModule\n  ],\n  declarations: [ChkphonePage]\n})\nexport class ChkphonePageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { ServiceService } from '.././service/service.service';\nimport { EventsService } from '.././service/events.service';\nimport { ToastController,NavController,Platform,LoadingController,IonInput, MenuController } from '@ionic/angular';\nimport firebase from '.././service/fbConfig';\n\nimport { FirebaseAuthentication } from '@ionic-native/firebase-authentication/ngx';\n\n@Component({\n  selector: 'app-chkphone',\n  templateUrl: './chkphone.page.html',\n  styleUrls: ['./chkphone.page.scss'],\n})\nexport class ChkphonePage implements OnInit {\n\n  @ViewChild(\"otp1\", {static: false}) otp1 : IonInput;\n  Code: String;\n  windowsRef:any;\n  confirmationResult: any;\n  phone_view: any;\n  user_id: any = 'null';\n  resend_stat: any;\n  constructor(\n    public server : ServiceService,\n    public toastController: ToastController,\n    private nav: NavController,\n    public loadingController: LoadingController,\n    public events: EventsService,\n    public platform: Platform,\n    public menu: MenuController,\n    public firebaseAuthentication: FirebaseAuthentication\n  ) { }\n\n  ngOnInit() {\n    // this.windowsRef = this.server.windowRef;\n    this.phone_view = localStorage.getItem('phone');\n    this.confirmationResult = localStorage.getItem('confirmationResult');\n  }\n\n  ionViewWillEnter(){\n    this.menu.enable(false);\n    \n    if (localStorage.getItem('lenguage') && localStorage.getItem('lenguage') != null) {\n      this.server.globalize(localStorage.getItem('lenguage'));\n    }else {\n      this.server.SetLenguage();\n    }\n\n    if (localStorage.getItem('user_id') && localStorage.getItem('user_id') != null) {\n      this.user_id = localStorage.getItem('user_id');\n    }\n  }\n  \n  async valid() {\n    const loading = await this.loadingController.create({\n      message: 'Validando...',\n    });\n    await loading.present();\n\n    if (this.Code && this.Code.toString().length >= 4 && this.Code.toString().length <= 8) {\n      let verificationCode: string = this.Code.toString();\n     \n      this.firebaseAuthentication.signInWithVerificationId(this.confirmationResult,verificationCode).then((data:any) => {\n          var allData = {\n            user_id : this.user_id, \n            phone : localStorage.getItem('phone')\n          }  \n          this.server.chkUser(allData).subscribe((res:any) => {\n              loading.dismiss();\n              if (res.msg == 'phone_exist') {\n                this.presentToast(\"El nÃºmero telefonico que intentas registrar ya se encuentra en uso, por favor intenta con otro.\",\"danger\");\n              }\n              else if(res.msg == \"not_exist\")\n              {\n                this.presentToast(\"Termina tu registro ingresando tus datos de contacto. \",\"warning\");\n                this.nav.navigateRoot('/signup');\n              }\n              else {\n                this.presentToast('Bienvenido(a) de nuevo...','success');\n                localStorage.setItem('user_id',res.user_id);\n                this.events.publish('user_login', res.user_id);\n                this.server.SignPhone({phone : localStorage.getItem('phone'), user_id: res.user_id}).subscribe((req:any) => {\n                  if (req.msg == 'done') {\n                    let navigationExtras: NavigationExtras = {\n                      queryParams: {\n                        redirect: 'home'\n                      }\n                    };\n                    this.nav.navigateForward(['/waitpage'], navigationExtras);\n                  }else {\n                    this.presentToast(req.msg,'danger');\n                  }\n                });\n              }\n          });\n      }).catch(fail => {\n          console.log(fail);\n          // Fail\n          loading.dismiss();\n          this.presentToast('Algo ha ocurrido.'+fail, 'danger');\n      });\n\n    }else {\n      loading.dismiss();\n      this.presentToast('Porfavor Ingresa un Codigo valido!','danger');\n    }\n  }\n\n  \n  async presentToast(txt,color) {\n    const toast = await this.toastController.create({\n      message: txt,\n      duration: 3000,\n      position : 'top',\n      mode:'ios',\n      color:color\n    });\n    toast.present();\n  }\n}\n","export default \".btn_next {\\n  position: absolute;\\n  bottom: 50px;\\n  right: 0;\\n  background-color: #000000;\\n  margin: 15px;\\n  --border-radius:25px !important;\\n  border-radius: 25px !important;\\n}\\n\\n.welcome_text {\\n  font-weight: 600;\\n  font-style: normal;\\n  letter-spacing: 0.8px;\\n  z-index: 100;\\n}\\n\\n.digit-group {\\n  width: 90%;\\n  margin: auto;\\n}\\n\\n.digit-group ion-input {\\n  display: inline-block;\\n  width: 50px;\\n  height: 25px;\\n  margin: 3px;\\n  text-align: center;\\n  letter-spacing: 6px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoa3Bob25lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFFBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSwrQkFBQTtFQUNBLDhCQUFBO0FBREo7O0FBS0E7RUFDSSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxZQUFBO0FBRko7O0FBS0E7RUFDSSxVQUFBO0VBQ0EsWUFBQTtBQUZKOztBQUlDO0VBQ08scUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FBRlIiLCJmaWxlIjoiY2hrcGhvbmUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG4uYnRuX25leHQge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiA1MHB4O1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwO1xyXG4gICAgbWFyZ2luOiAxNXB4O1xyXG4gICAgLS1ib3JkZXItcmFkaXVzOjI1cHggIWltcG9ydGFudDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDI1cHggIWltcG9ydGFudDtcclxuXHJcbn1cclxuXHJcbi53ZWxjb21lX3RleHQge1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcclxuICAgIGxldHRlci1zcGFjaW5nOiAwLjhweDtcclxuICAgIHotaW5kZXg6IDEwMDtcclxufVxyXG5cclxuLmRpZ2l0LWdyb3VwIHtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcblxyXG5cdGlvbi1pbnB1dHtcclxuICAgICAgICBkaXNwbGF5OmlubGluZS1ibG9jaztcclxuICAgICAgICB3aWR0aDo1MHB4O1xyXG4gICAgICAgIGhlaWdodDoyNXB4O1xyXG4gICAgICAgIG1hcmdpbjozcHg7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGxldHRlci1zcGFjaW5nOiA2cHg7XHJcbiAgICB9XHJcbn1cclxuIl19 */\";","export default \"<ion-header no-border class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title>\\n      </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <!-- Verify SMS OTP -->\\n<div >\\n  <ion-card-header>\\n    <ion-row>\\n        <ion-col>\\n        <h1 class=\\\"welcome_text\\\">\\n            {{'sms_verify' | translate}}\\n        </h1>\\n        </ion-col>\\n    </ion-row>\\n    <p style=\\\"color: rgb(85, 85, 85);font-weight: 500;font-style: normal;font-size: 14px;\\\">\\n        {{'verify_code1' | translate}} &nbsp;{{phone_view}}&nbsp; {{'verify_code2' | translate}}\\n    </p>\\n  </ion-card-header>\\n\\n\\n  <ion-item class=\\\"digit-group\\\" lines=\\\"none\\\">\\n    <ion-input type=\\\"tel\\\" #otp1 [(ngModel)]=\\\"Code\\\" maxLength=\\\"6\\\" required placeholder=\\\"ej.- 859754\\\"></ion-input>\\n  </ion-item>\\n  \\n  <p align=\\\"center\\\" *ngIf=\\\"resend_stat\\\" style=\\\"font-weight: 500;font-style: normal\\\"> \\n      {{'not_code' | translate}} <a  routerLink=\\\"/home\\\" routerDirection=\\\"root\\\">{{'resend' | translate}}</a>\\n  </p>\\n\\n  <ion-button class=\\\"btn_next\\\" (click)=\\\"valid()\\\" color=\\\"dark\\\" shape=\\\"round\\\" style=\\\"--border-radius:25px;\\\">\\n      {{'valid' | translate}}\\n      <ion-icon slot=\\\"end\\\" name=\\\"chevron-forward-outline\\\"></ion-icon>\\n  </ion-button>\\n</div>\\n<!-- Verify SMS OTP -->\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}